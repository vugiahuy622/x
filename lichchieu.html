<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <title>L·ªãch Chi·∫øu | RapChieuPhim.vn</title>
  <link rel="stylesheet" href="lichchieu.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>

<body>
  <!-- Header -->
  <header>
    <h1>üé¨ NETFLIX</h1>
    <nav>
      <a href="index.html">Trang ch·ªß</a>
      <a href="lichchieu.html">L·ªãch chi·∫øu</a>
      <a href="datve.html">ƒê·∫∑t V√©</a>
      <a href="dangky.html">ƒêƒÉng K√Ω</a>
      <a href="dangnhap.html">ƒêƒÉng Nh·∫≠p</a>
    </nav>
  </header>
  <!-- Main -->
  <main class="schedule-section">
    <h1>üóìÔ∏è L·ªãch Chi·∫øu Phim</h1>


    <style>
      body {
        font-family: "Segoe UI", sans-serif;
        background: #141414;
        color: #fff;
        margin: 0;
      }

      header {
        background-color: #141414;
        border-bottom: 2px solid #e50909;
        padding: 0.8rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      header h1 {
        font-size: 1.8rem;
        font-weight: 900;
        color: #fff;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      nav {
        display: flex;
        gap: 1.5rem;
        /* kho·∫£ng c√°ch gi·ªØa c√°c link */
      }

      nav a {
        color: #fff;
        text-decoration: none;
        font-weight: 500;
        font-size: 1rem;
        transition: color 0.3s;
      }

      nav a:hover {
        color: #e5e109;
      }


      .container {
        padding: 2rem;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
      }

      .showtime-card {
        background: #222;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
        transition: transform 0.3s;
      }

      .showtime-card:hover {
        transform: scale(1.03);
      }

      .showtime-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }

      .card-content {
        padding: 1rem;
      }

      .card-content h3 {
        margin: 0 0 0.5rem;
        font-size: 1.2rem;
        color: #e50914;
      }

      .card-content p {
        margin: 4px 0;
        font-size: 0.95rem;
        color: #ddd;
      }

      .btn-book {
        margin-top: 10px;
        display: inline-block;
        padding: 8px 14px;
        background: #e50914;
        border: none;
        border-radius: 6px;
        color: white;
        cursor: pointer;
        font-weight: bold;
      }

      .btn-book:hover {
        background: #ff2b2b;
      }

      body {
        margin: 0;
        font-family: "Segoe UI", sans-serif;
        background: url("https://cdn.tgdd.vn/News/1558642/36-1280x720.jpg") no-repeat center center fixed;
        background-size: cover;
        color: #ffffff;
      }

      /* l·ªõp m·ªù ph·ªß l√™n n·ªÅn ƒë·ªÉ ch·ªØ d·ªÖ ƒë·ªçc */
      .overlay {
        background: rgba(0, 0, 0, 0.7);
        min-height: 100vh;
        padding: 2rem;
      }

      .showtime-container {
        background: rgba(20, 20, 20, 0.85);
        padding: 2rem;
        border-radius: 12px;
        max-width: 800px;
        margin: auto;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
      }
    </style>

    </head>

    <body>


      <div class="container" id="showtimeContainer"></div>
      <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
      <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
      <script>
        // Firebase config
        const firebaseConfig = {
          apiKey: "AIzaSyDlne_gt7K1kWxTbBKcAD2Onvy7B8OUcaA",
          authDomain: "vghh-7999b.firebaseapp.com",
          projectId: "vghh-7999b",
          storageBucket: "vghh-7999b.firebasestorage.app",
          messagingSenderId: "374520262209",
          appId: "1:374520262209:web:7118e642efe315baa520c0"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const container = document.getElementById("showtimeContainer");

        // H√†m load l·ªãch chi·∫øu + ·∫£nh phim
        db.collection("showtimes").onSnapshot(async snapshot => {
          container.innerHTML = "";
          for (const doc of snapshot.docs) {
            const st = doc.data();

            // l·∫•y th√™m ·∫£nh t·ª´ collection movies
            let image = "https://via.placeholder.com/300x200?text=No+Image";
            const movieSnap = await db.collection("movies").where("name", "==", st.movieName).get();
            if (!movieSnap.empty) {
              image = movieSnap.docs[0].data().image || image;
            }

            const card = `
          <div class="showtime-card">
            <div class="card-content">
              <h3>${st.movieName}</h3> 
              <p><b>Ng√†y:</b> ${st.date}</p>
              <p><b>Gi·ªù:</b> ${st.time}</p>
              <p><b>Ph√≤ng:</b> ${st.room}</p>
              <p><b>Gi√° v√©:</b> ${st.price} ƒë</p>
              <button class="btn-book" onclick="datVe('${st.movieName}','${st.date}','${st.time}','${st.room}')">ƒê·∫∑t V√©</button>
            </div>
          </div>
        `;
            container.innerHTML += card;
          }
        });

        function datVe(movie, date, time, room) {
          window.location.href = `datve.html?movie=${encodeURIComponent(movie)}&date=${date}&time=${time}&room=${room}`;
        }
      </script>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-logo">üé¨ NETFLIX</div>
      <div class="footer-links">
        <a href="index.html">Trang Ch·ªß</a>
        <a href="uudai.html">∆Øu ƒê√£i</a>
        <a href="lienhe.html">Li√™n h·ªá</a>
      </div>
      <p class="footer-copy">
        ¬© 2025 NETFLIX. All rights reserved.
      </p>
    </div>
  </footer>
</body>

</html>