<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ÄÄƒng kÃ½ | RapChieuPhim.vn</title>
  <link rel="stylesheet" href="dky.css" />
</head>

<body>
  <style>
    body {
      background-image: url("https://i0.wp.com/imgs.hipertextual.com/wp-content/uploads/2024/10/netflix-precios.jpg?fit=1200%2C730&quality=70&strip=all&ssl=1");
      background-size: cover;
      /* Phá»§ toÃ n bá»™ mÃ n hÃ¬nh */
      background-repeat: no-repeat;
      background-position: center center;
      height: 100vh;
      margin: 0;
    }
  </style>

  <div class="h">
    <header>
      <div class="logo">ğŸ¬ NETFLIX</div>
      <nav>
        <ul>
          <li><a href="index.html">Trang chá»§</a></li>
          <li><a href="lichchieu.html">Lá»‹ch chiáº¿u</a></li>
          <li><a href="datve.html">Äáº·t VÃ©</a></li>
          <li><a href="dangky.html">ÄÄƒng KÃ½</a></li>
          <li><a href="dangnhap.html">ÄÄƒng Nháº­p</a></li>
        </ul>
      </nav>
    </header>
    <br />
    <main>
      <div style="display: flex; justify-content: center">
        <div class="form-container">
          <h2>ğŸ¬ ÄÄƒng KÃ½ TÃ i Khoáº£n</h2>

          <form id="registerform">
            <label for="name">Há» vÃ  tÃªn</label>
            <input type="text" id="username" placeholder="Nháº­p há» tÃªn..." required />

            <label for="email">Email</label>
            <input type="email" id="email" placeholder="Nháº­p email..." required />

            <label for="password">Máº­t kháº©u</label>
            <input type="password" id="password" placeholder="Nháº­p máº­t kháº©u..." required />


            <button id="saveButton">ÄÄƒng kÃ½</button>
            <ul id="userList"></ul>
            <p id="status"></p>

          </form>



          <script>
            document.getElementById('registerform')
              .addEventListener('submit', function (e) {
                e.preventDefault();
                const name = document.getElementById("username").value;
                //console.log(name);

                const email = document.getElementById("email").value;
                //console.log(email);

                const password = document.getElementById("password").value;
                // console.log(password);

                const users = JSON.parse(localStorage.getItem("users") || "[]");

                //if (users.some((user) => user.name === name)) { }

                users.push({ name, password, email });

                localStorage.setItem("users", JSON.stringify(users));

                alert("ÄÄƒng KÃ½ ThÃ nh CÃ´ng!");

                document.getElementById("registerform").reset();

              });
          </script>

          <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
          <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

          <script>
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyDlne_gt7K1kWxTbBKcAD2Onvy7B8OUcaA",
              authDomain: "vghh-7999b.firebaseapp.com",
              projectId: "vghh-7999b",
              storageBucket: "vghh-7999b.firebasestorage.app",
              messagingSenderId: "374520262209",
              appId: "1:374520262209:web:7118e642efe315baa520c0",
              measurementId: "G-D3ZEDNBQ7C"
            };
            // âœ… Khá»Ÿi táº¡o Firebase & Firestore
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();


            // âœ… LÆ°u ngÆ°á»i dÃ¹ng
            document.getElementById("saveButton").addEventListener("click", () => {
              const username = document.getElementById("username").value.trim();
              const email = document.getElementById("email").value.trim();
              const password = document.getElementById("password").value.trim();

              if (!username || !password || !email) {
                alert("Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ username vÃ  password");
                return;
              }

              db.collection("users")
                .doc(username)
                .set({ username, password, email })
                .then(() => {
                  document.getElementById("status").innerText = "LÆ°u thÃ nh cÃ´ng!";
                  document.getElementById("username").value = "";
                  document.getElementById("password").value = "";
                  loadUsers(); // ğŸ‘‰ Táº£i láº¡i danh sÃ¡ch sau khi lÆ°u
                })
                .catch((error) => {
                  document.getElementById("status").innerText =
                    "Lá»—i: " + error.message;
                });
            });

          </script>


          <div class="login-link">
            ÄÃ£ cÃ³ tÃ i khoáº£n? <a href="dangnhap.html">ÄÄƒng nháº­p</a>
          </div>
        </div>
      </div>
    </main>
    <br /><br />
    <footer class="cinema-footer">
      <div class="footer-container">
        <div class="footer-logo">ğŸ¬ <span>NETFLIX</span>
          <div class="footer-links">
            <a href="index.html">Trang chá»§</a>
            <a href="uudai.html">Æ¯u Ä‘Ã£i</a>
            <a href="lienhe.html">LiÃªn há»‡</a>
          </div>

          <div class="footer-copy">
            Â© 2025 NETFLIX. All rights reserved.
          </div>
        </div>
    </footer>
  </div>
</body>

</html>