<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ÄÄƒng nháº­p | RapChieuPhim.vn</title>
  <link rel="stylesheet" href="dangnhap.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>

<body>
  <style>
    body {
      background-image: url("https://cdn2.fptshop.com.vn/unsafe/1920x0/filters:format(webp):quality(75)/2022_8_4_637952330398498003_netflix-1.jpg");
      background-size: cover;
      /* Phá»§ toÃ n bá»™ mÃ n hÃ¬nh */
      background-repeat: no-repeat;
      background-position: center center;
      height: 100vh;
      margin: 0;
    }
  </style>

  <!-- Header -->
  <header class="login-header">
    <div class="header-container">
      <div class="logo">ğŸ¬ <span>NETFLIX</span></div>
      <nav class="nav-links">
        <a href="index.html">Trang chá»§</a>
        <a href="lichchieu.html">Lá»‹ch Chiáº¿u</a>
        <a href="datve.html">Äáº·t VÃ©</a>
        <a href="dangky.html">ÄÄƒng kÃ½</a>
        <a href="dangnhap.html">ÄÄƒng Nháº­p</a>
      </nav>
    </div>
  </header>


  <!-- Main -->
  <main class="login-main">
    <div class="login-box">
      <h2>ğŸ¬ ÄÄƒng nháº­p tÃ i khoáº£n</h2>
      <div>
        <div class="input-group">
          <label for="username">tÃªn</label>
          <input type="text" id="username" placeholder="Nháº­p tÃªn" required />
        </div>
        <div class="input-group">
          <label for="password">Máº­t kháº©u</label>
          <input type="password" id="password" placeholder="Nháº­p máº­t kháº©u" required />
        </div>
        <div class="login-form">

          <button id="login-btn" onclick="login()" class="btn">ÄÄƒng nháº­p</button>
          <p class="signup-link">



            ChÆ°a cÃ³ tÃ i khoáº£n? <a href="dangky.html">ÄÄƒng kÃ½</a>
          </p>
        </div>
        </form>



      </div>
  </main>


  <footer class="cinema-footer">
    <div class="footer-container">
      <div class="footer-logo">ğŸ¬ <span>NETFLIX</span>
        <div class="footer-links">
          <a href="bai7.html">Trang chá»§</a>
          <a href="uudai.html">Æ¯u Ä‘Ã£i</a>
          <a href="#">LiÃªn há»‡</a>
        </div>
        <div class="footer-social">
          <a href="#"><i class="fa fa-facebook"></i></a>
          <a href="#"><i class="fa fa-youtube"></i></a>
          <a href="#"><i class="fa fa-instagram"></i></a>
        </div>
        <div class="footer-copy">
          Â© 2025 RapChieuPhim.vn. ÄÃ£ Ä‘Äƒng kÃ½ báº£n quyá»n.
        </div>
      </div>
  </footer>


  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script>

    const firebaseConfig = {
      apiKey: "AIzaSyDlne_gt7K1kWxTbBKcAD2Onvy7B8OUcaA",
      authDomain: "vghh-7999b.firebaseapp.com",
      projectId: "vghh-7999b",
      storageBucket: "vghh-7999b.firebasestorage.app",
      messagingSenderId: "374520262209",
      appId: "1:374520262209:web:7118e642efe315baa520c0",
      measurementId: "G-D3ZEDNBQ7C"
    };
    // Khá»Ÿi táº¡o Firebase & Firestore
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    document.getElementById("login-btn").addEventListener("click", login);

    function login() {
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value.trim();

      if (!username || !password) {
        alert("Vui lÃ²ng nháº­p username vÃ  password");
        return;
      }

      if (username == 'admin' && password == 'admin') {
        window.location = 'trangadmin.html'
      }

      db.collection("users")
        .where("username", "==", username)
        .get()
        .then((snapshot) => {
          if (snapshot.empty) {
            alert("KhÃ´ng tÃ¬m tháº¥y ngÆ°á»i dÃ¹ng nÃ o");
            return;
          }

          // 



          snapshot.forEach((doc) => {
            const userData = doc.data();
            if (userData.password === password) {
              // LÆ°u thÃ´ng tin user vÃ o localStorage
              localStorage.setItem("user", JSON.stringify(userData));
              // Chuyá»ƒn qua trang cÃ¡ nhÃ¢n
              window.location.href = "index.html";
            } else {
              alert("Sai máº­t kháº©u!");
            }
          });
        })

        .catch((error) => {
          alert("ÄÄƒng nháº­p tháº¥t báº¡i: " + error.message);
          console.error(error);
        });
    }


  </script>


</body>

</html>